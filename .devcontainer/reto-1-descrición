Reto 01 - Configura tu entorno de desarrollo

< Reto Anterior - Home - Siguiente reto >
Introducci√≥n

Con la copia del proyecto obtenida, es momento de centrar tu atenci√≥n en configurar tu entorno de desarrollo. El refugio est√° interesado en asegurar que los desarrolladores puedan contribuir al proyecto de la manera m√°s fluida posible, evitando configuraciones tediosas. Para cumplir con este requisito, configurar el proyecto de manera local no es la mejor opci√≥n. Deber√°s buscar una soluci√≥n basada en la nube que permita un entorno de desarrollo configurado de manera centralizada üòâ.
Descripci√≥n

Crear√°s un entorno de desarrollo que cumpla con las necesidades mencionadas anteriormente. Quieres poder comenzar a escribir c√≥digo sin necesidad de instalar recursos localmente en tu m√°quina.

GitHub Codespaces es un entorno de desarrollo en la nube que nos ayudar√° a trabajar sin necesidad de instalar nada localmente en tu m√°quina, todo se har√° en la nube. Aqu√≠ puedes ver m√°s sobre lo que es un GitHub Codespace.

Durante el desarrollo (en un reto posterior), crear√°s recursos en Azure y configurar√°s tu repositorio en GitHub utilizando GitHub Actions, Azure CLI y GitHub CLI. No es necesario que crees recursos en Azure directamente desde el portal, ya que hemos preparado scripts que lo har√°n por ti. Solo necesitar√°s seguir las instrucciones y asegurarte de que todo est√© correctamente configurado en tu repositorio de GitHub. Repetimos, sin embargo, que en este reto 01 de configuraci√≥n NO crear√°s recursos de Azure, pues esto se realizar√° m√°s adelante. De momento, considera esto solo como informaci√≥n complementaria.

La aplicaci√≥n utiliza una variable de entorno llamada MONGODB_URI con el valor mongodb://localhost para conectarse a la base de datos MongoDB.

Por tanto, en primer lugar agrega este elemento en los Settings de tu repositorio, en la secci√≥n de Codespaces, como un secreto cifrado.

A continuaci√≥n, crea un Codespace a partir del repositorio que se encuentra en tu cuenta de GitHub (Importante: El Codespace debe ser creado desde TU repositorio en TU cuenta).

Una vez dentro de tu Codespace, config√∫ralo de acuerdo a las siguientes indicaciones:
Pasos para configurar tu Codespace:

    Accede a la Paleta de Comandos presionando F1 o haciendo clic en el men√∫ ‚ò∞ y seleccionando View ‚Üí Command Palette.

    Comienza a escribir dev container en la Paleta de Comandos.

    Selecciona Codespaces: Add Development Container Configuration Files‚Ä¶.

    Selecciona Create a new configuration‚Ä¶.

    Selecciona From a predefined container configuration‚Ä¶.

    Despl√°zate hacia abajo y selecciona Node.js & Mongo DB.

    Selecciona 22 (default) para la versi√≥n de Node.js.

    En la siguiente pantalla, selecciona Azure CLI devcontainers y GitHub CLI devcontainers de las caracter√≠sticas adicionales y luego selecciona OK.
        NOTA: Puedes escribir el nombre de la caracter√≠stica que deseas para filtrar la lista.

    Selecciona Keep defaults.
        Esto crear√° los archivos de definici√≥n del nuevo contenedor en la carpeta .devcontainer.

    Abre la Paleta de Comandos nuevamente.

    Escribe rebuild y selecciona Codespaces: Rebuild container.

    Selecciona Rebuild Container en el cuadro de di√°logo. Ahora tu contenedor se reconstruir√°. No importa si eliges Rebuild o Full Rebuild, cualquiera de las dos opciones te permitir√° reiniciar tu codespace con las herramientas necesarias para compilar tu aplicaci√≥n.
        IMPORTANTE: La reconstrucci√≥n del contenedor puede tardar varios minutos.

Una vez creado el Codespace y configurados los recursos, podr√°s ejecutar la aplicaci√≥n con los siguientes comandos:

Primero:

npm install

Una vez instalados los paquetes, procede a ejecutar la aplicaci√≥n:

npm run dev

En la pesta√±a Ports te aparecer√° una direcci√≥n URL desde la cual puedes acceder a tu aplicaci√≥n (clic derecho y elige la opci√≥n Abrir en Navegador).

    NOTA: Si te aparece un error 502, en la pesta√±a Ports haz clic derecho en el puerto 3000, elige Stop Forwarding Port, luego regresa a la Terminal, presiona Ctrl C para cancelar y ejecuta de nuevo el comando npm run dev. Deber√≠a funcionar en esta segunda ocasi√≥n.

Criterios de √âxito

    Has creado y configurado un entorno de desarrollo en la nube con los siguientes recursos instalados:
        GitHub CLI
        Azure CLI
        MongoDB
    Has creado un secreto encriptado para MONGODB_URI
    Eres capaz de iniciar y ver la aplicaci√≥n en el entorno de desarrollo basado en la nube.
    Todos los cambios se fusionan en ‚Äòmain‚Äô (debes confirmar los cambios y sincronizar).
    No se instalaron recursos en tu m√°quina.

Recursos de Aprendizaje

    GitHub Codespaces
    Introducci√≥n a los contenedores dev
    Configuraci√≥n de un proyecto de Node.js para GitHub Codespaces
    Adici√≥n de caracter√≠sticas a un archivo devcontainer.json
    Reenviar puertos en tu codespace
    Administraci√≥n de secretos espec√≠ficos de la cuenta para GitHub Codespaces
    Desarrollar en un codespace
    Precompilaci√≥n de los codespaces

Tips

    Ctl-` mostrar√° la ventana de la terminal en Codespaces.
    Cmd-Shift-P (Mac) o Ctl-Shift-P (PC) abrir√° la paleta de comandos.
